<form [formGroup]="tablesForm" (ngSubmit)="save()" *ngIf="createMode || editMode">
  <div formArrayName="tables">
    <ion-grid

    *ngFor="let tablesArrayCtrl of controls; let i = index"
    >
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-item>
          <ion-label position="floating">Table {{i+1}} Number/Name</ion-label>
          <ion-input 
            [formControlName]="i"
            type="text"
            autocapitalize="words"
          ></ion-input>
          <ion-icon name="close" slot="end" (click)="onDeleteTable(i)"></ion-icon>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
  </div>
  <ion-grid>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-button shape="round" (click)="addTable()">Add +</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-item>
          <ion-label position="floating">Email</ion-label>
          <ion-input 
            formControlName="email"
            type="email"
          ></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
  
  <ion-grid>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-button color="primary" type="submit" expand="block" [disabled]="!tablesForm?.valid || tablesArray.length === 0">Get QR codes</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</form>
  


<div *ngIf="!createMode && !editMode">
  <ion-grid *ngFor="let table of tables">
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-item>
          {{ table }}
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-button color="primary" expand="block" (click)="updateTable()">Update</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

</div>